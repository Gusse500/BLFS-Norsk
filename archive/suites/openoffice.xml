<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!-- <!ENTITY openoffice-download-http "http://download.openoffice.org/&openoffice-version;/source.html"> -->
  <!-- <!ENTITY openoffice-download-ftp  "ftp://ftp.ussg.iu.edu/pub/openoffice/stable/&openoffice-version;/OOo_&openoffice-version;_src.tar.gz"> -->
  <!ENTITY openoffice-core-download-http   "http://ftp.osuosl.org/pub/openoffice/stable/&openoffice-version;/OOo_&openoffice-version;_src_core.tar.bz2">
  <!ENTITY openoffice-core-download-ftp    "ftp://ftp.osuosl.org/pub/openoffice/stable/&openoffice-version;/OOo_&openoffice-version;_src_core.tar.bz2">
  <!ENTITY openoffice-core-md5sum          "4fa713fb796bc57e5eb9dfb0758adda0">
  <!ENTITY openoffice-core-size            "205 MB">
  <!ENTITY openoffice-system-download-http "http://ftp.osuosl.org/pub/openoffice/stable/&openoffice-version;/OOo_&openoffice-version;_src_system.tar.bz2">
  <!ENTITY openoffice-system-download-ftp  "ftp://ftp.osuosl.org/pub/openoffice/stable/&openoffice-version;/OOo_&openoffice-version;_src_system.tar.bz2">
  <!ENTITY openoffice-system-md5sum        "e6405c8108bdcf4cc2bf066d88aa5ae1">
  <!ENTITY openoffice-system-size          "59 MB">
  <!ENTITY openoffice-buildsize            "4.9-7.3 GB (avhengig av konfigurerte alternativer)">
  <!ENTITY openoffice-time                 "96-109 SBU (avhengig av konfigurerte alternativer)">
]>

<sect1 id="openoffice" xreflabel="OpenOffice-&openoffice-version;">
  <?dbhtml filename="openoffice.html" ?>


  <title>OpenOffice-&openoffice-version;</title>

  <indexterm zone="openoffice">
    <primary sortas="a-OpenOffice">OpenOffice</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduksjon til OpenOffice</title>

    <para><application>OpenOffice</application> er en kontorpakke,
    åpen kildekode søsken til <application>StarOffice</application>.</para>

    <bridgehead renderas="sect3">Pakkeinformasjon</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>OpenOffice Kjerne nedlasting (HTTP): <ulink url="&openoffice-core-download-http;"/></para>
      </listitem>
      <listitem>
        <para>OpenOffice Kjerne nedlasting (FTP): <ulink url="&openoffice-core-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>OpenOffice Kjerne nedlasting MD5 sum: &openoffice-core-md5sum;</para>
      </listitem>
      <listitem>
        <para>OpenOffice Kjerne nedlastingstørrelse: &openoffice-core-size;</para>
      </listitem>
      <listitem>
        <para>OpenOffice System nedlasting (HTTP): <ulink url="&openoffice-system-download-http;"/></para>
      </listitem>
      <listitem>
        <para>OpenOffice System nedlasting (FTP): <ulink url="&openoffice-system-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>OpenOffice System nedlasting MD5 sum: &openoffice-system-md5sum;</para>
      </listitem>
      <listitem>
        <para>OpenOffice System nedlastingstørrelse: &openoffice-system-size;</para>
      </listitem>
      <listitem>
        <para>Estimert diskplass som kreves: &openoffice-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimert byggetid: &openoffice-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Ytterligere Nedlastinger</bridgehead>
    <itemizedlist spacing='compact'>
      <listitem>
        <para>Nødvendig oppdatering:
        <ulink url="&patch-root;/OOo_&openoffice-version;-build_with_db5-1.patch"/>
        </para>
      </listitem>
      <listitem>
        <para>Nødvendig nedlasting:
        <ulink url="ftp://ftp.mozilla.org/pub/mozilla.org/seamonkey/releases/1.1.14/seamonkey-1.1.14.source.tar.bz2"/></para>
      </listitem>
      <listitem>
        <para>Valgfri nedlasting hvis du ønsker å lokalisere
        installasjon:
        <ulink url="ftp://ftp.osuosl.org/pub/openoffice/stable/&openoffice-version;/OOo_&openoffice-version;_src_l10n.tar.bz2"/></para>
      </listitem>
      <listitem>
        <para>Valgfri nedlasting hvis du trenger å støtte den gamle
        <application>StarOffice-5.2</application> filformatet:
        <ulink url="ftp://ftp.osuosl.org/pub/openoffice/stable/&openoffice-version;/OOo_&openoffice-version;_src_binfilter.tar.bz2"/></para>
      </listitem>
      <listitem>
        <para>Valgfri nedlasting hvis du vil bygge flere utvidelser
        for <application>OpenOffice</application>:
        <ulink url="ftp://ftp.osuosl.org/pub/openoffice/stable/&openoffice-version;/OOo_&openoffice-version;_src_extensions.tar.bz2"/></para>
      </listitem>
      <listitem>
        <para>Valgfri nedlasting hvis du vil bygge kontorutviklingssettet
        (Krav på tvers av plattformer er ikke valgfritt):
        <ulink url="http://tools.openoffice.org/unowinreg_prebuild/680/unowinreg.dll"/></para>
      </listitem>
    </itemizedlist>
    <bridgehead renderas="sect3">OpenOffice Avhengigheter</bridgehead>

    <bridgehead renderas="sect4">Påkrevd</bridgehead>
    <para role="required"><xref linkend="apache-ant"/>,
    <xref linkend="gtk2"/>,
    <xref linkend="libidl"/>,
    <application>Perl Moduler</application>
    <xref linkend="perl-xml-parser"/> og
    <xref linkend="perl-archive-zip"/>,
    <xref linkend="unzip"/>,
    <xref linkend="which"/>, og
    <xref linkend="zip"/></para>

    <bridgehead renderas="sect4">Valgfri</bridgehead>
    <para role="optional"><ulink
    url="http://packages.debian.org/testing/libdevel/libaltlinuxhyph-dev">ALTLinuxhyph</ulink>,
    <xref linkend="boost"/>,
    <xref linkend="cups"/>,
    <xref linkend="curl"/>,
    <xref linkend="db"/> (bygget med Java støtte),
    <xref linkend="desktop-file-utils"/>,
    <ulink url="http://www.easysw.com/epm/">EPM</ulink>,
    <xref linkend="evolution"/>,
    <!--<xref linkend="gnome-vfs"/> (should use \-\-enable-gio instead),-->
    <!-- <xref linkend="kde"/>, -->
    <xref linkend="libjpeg"/>,
    <ulink url="http://www.mega-nerd.com/libsndfile/">libsndfile</ulink>,
    <xref linkend="libtiff"/>,
    <ulink url="http://freshmeat.net/projects/libwpd/">libwpd</ulink>,
    <xref linkend="libxslt"/>,
    <xref linkend="libxml2"/>,
    <xref linkend="linux-pam"/>,
    <ulink url="http://lingucomponent.openoffice.org/MySpell-3.zip">MySpell</ulink>,
    <ulink url="http://lingucomponent.openoffice.org/thesaurus.html">MyThes</ulink>,
    <xref linkend="neon"/>,
    <xref linkend="openldap"/>,
    <xref linkend="python2"/>,
    <xref linkend="sane"/>,
    <xref linkend="startup-notification"/>, og
    <xref linkend="unixodbc"/></para>

    <para condition="html" role="usernotes">Brukernotater:
    <ulink url="&blfs-wiki;/openoffice"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installasjon av OpenOffice</title>

    <para><application>OpenOffice</application> kildekoden er
    fordelt i flere tarballer. Du bør trekke ut hver fra
    samme toppnivåkmappe før du går inn i byggemappen. På
    et minimum, må du trekke ut <quote>core</quote> og
    <quote>system</quote> tarballene. Merk at kildemappegnavnet
    er ikke i samsvar med tarball-navnet og vil bli navngitt
    <filename class='directory'>OOO320_m19</filename>.</para>

    <para>Det er mulig å bygge med et systeminstallert
    <application>Mozilla</application>, det krever imidlertid en svært påtrengende
    patch, og er versjonsspesifikk. I tillegg må du bygge mot
    <xref linkend="seamonkey"/> eller <xref linkend="thunderbird"/> for fullt
    LDAP og adressebok funksjonalitet. Bruk heller i-treet
    <application>Seamonkey</application> bygget. Kopier tarballen inn
    i kildetreet med følgende kommando:</para>

<screen><userinput>cp ../seamonkey-1.1.14-source.tar.bz2 moz/download/</userinput></screen>

    <para>Hvis du vil optimere bygget, rediger den aktuelle makefile i
    <filename>solenv/inc/</filename> og legg til ønsket optimalisering
    flagg til <envar>CFLAGSOPT</envar> variabel. Makefilene er arkitektur
    spesifikk, for eksempel rediger <filename>unxlngi6.mk</filename> for i686, eller
    <filename>unxlngx6.mk</filename> for x86_64.  Noen brukere har rapportert
    problemer med <option>-fomit-frame-pointer</option>. Det beste alternativet er å
    ikke bruk tilpassede optimaliseringer.</para>

    <note>
      <para>På grunn av kompleksiteten til
      <application>OpenOffice</application> bygge system, er det ikke mulig å
      gi generiske byggeinstruksjoner for alle systemer. Du bør se på
      utdataen av <command>configure --help</command> og dra nytte av
      alle systeminstallerte programmer og biblioteker som er tilgjengelige ved hjelp av
      <parameter>--enable-*</parameter>, <parameter>--disable-*</parameter>,
      og <parameter>--with-system-*</parameter> parametere, og oppgi evt
      ytterligere miljøvariabler som trengs.</para>
    </note>

    <para><application>OpenOffice</application> mislykkes i å kompilere hvis
    <command>umask</command> er satt til noe eksotisk. Bygget kan også
    mislykkes hvis <envar>LANG</envar> eller <envar>LC_ALL</envar> miljø
    variabler er satt. Bruk følgende kommandoer for å endre din
    miljø tilsvarende:</para>

<screen><userinput>umask 0022 &amp;&amp;
unset LANG LC_ALL</userinput></screen>

    <para>Installer <application>OpenOffice</application> ved å kjøre
    følgende kommandoer:</para>

<!-- uudecode didn't fuss...but left in for reference
sed -i 's@..$/dist$/configure@uudecode="no" &amp;@' \
    berkeleydb/makefile.mk &amp;&amp;
-->

<screen><userinput>patch -Np1 -i ../OOo_&openoffice-version;-with-system-db5-1.patch &amp;&amp;
autoreconf &amp;&amp;
PKG_CONFIG=/usr/bin/pkg-config ./configure \
            --disable-binfilter            \
            --disable-fontooo              \
            --disable-gnome-vfs            \
            --disable-odk                  \
            --disable-qadevooo             \
            --enable-cairo                 \
            --without-afms                 \
            --without-fonts                \
            --without-ppds                 \
            --without-pam                  \
            --with-system-stdlibs          \
            --with-system-cairo            \
            --with-system-expat            \
            --with-system-zlib             \
            --with-package-format=native   \
            --with-vendor="BLFS"           \
            --with-use-shell=bash &amp;&amp;
source LinuxX86Env.Set.sh &amp;&amp;
./bootstrap &amp;&amp;
make</userinput></screen>

    <para>Denne pakken kommer ikke med en testpakke.</para>

    <para>Nå, som <systemitem class="username">root</systemitem>
     bruker:</para>

<screen role="root"><userinput>pushd instsetoo_native/unxlng?6.pro/OpenOffice/\
native/install/en-US/linux-2.6-*/buildroot/opt &amp;&amp;
cp -r -v openoffice.org3 /opt/openoffice-&openoffice-version; &amp;&amp;
cp -r -v openoffice.org/* /opt/openoffice-&openoffice-version; &amp;&amp;
ln -sf basis3.2 /opt/openoffice-&openoffice-version;/basis-link &amp;&amp;
popd &amp;&amp;

for appl in sbase scalc sdraw simpress smath soffice spadmin swriter
do
    ln -v -sf /opt/openoffice-&openoffice-version;/program/$appl /usr/bin
done &amp;&amp;

pushd sysui/desktop/icons &amp;&amp;
install -v -m755 -d /usr/share/icons/{hicolor,locolor} &amp;&amp;
cp -r -v hicolor/* /usr/share/icons/hicolor &amp;&amp;
cp -r -v locolor/* /usr/share/icons/locolor &amp;&amp;
popd</userinput></screen>

    <para>Hvis du har installert <xref linkend="desktop-file-utils"/>, du
    bør kopiere <filename class='extension'>*.desktop</filename> filer til
    <filename class='directory'>/usr/share/applications</filename> bruker
    følgende kommandoer som <systemitem class="username">root</systemitem>
    bruker:</para>

<screen role="root"><userinput>install -v -d -m755 /usr/share/applications &amp;&amp;
pushd /opt/openoffice-&openoffice-version;/share/xdg/ &amp;&amp;
for appl in *.desktop
do
    sed -i '/Exec/d' $appl &amp;&amp;
    echo "Exec=/usr/bin/s`echo $appl | sed 's/.desktop//'`" >> $appl &amp;&amp;
    sed -i '/Icon/d' $appl &amp;&amp;
    echo "Icon=`echo "ooo-${appl}3.2" | sed 's/\.desktop//'`" >> $appl
done &amp;&amp;
sed -i 's@bin/sprinteradmin@bin/spadmin@' printeradmin.desktop &amp;&amp;
cp -v *.desktop /usr/share/applications &amp;&amp;
update-desktop-database &amp;&amp;
popd</userinput></screen>

    <para>Hvis du har valgt å bygge noen ekstra ordbøker eller noen av de
    utvidelser, må du kopiere dem til installasjonsmappen. Kjør
    følgende kommandoer som
    <systemitem class="username">root</systemitem> bruker:</para>

    <note><para>De følgende to kommandoblokkene vil ikke avsluttes med en null
    verdi, og den andre vil kreve at du trykker 'y' før installasjon.
    Ha dette i bakhodet hvis du skripter bygget.</para></note>

<screen role="root"><userinput>cp -v dictionaries/unxlngi6.pro/bin/dict-*.oxt \
    sdext/unxlngi6.pro/bin/*.oxt \
    reportbuilder/unxlngi6.pro/bin/report-builder.oxt \
    swext/unxlngi6.pro/bin/wiki-publisher.oxt \
    /opt/openoffice-3.2.1/share/extension/install</userinput></screen>

    <para>Nå, mens fortsatt <systemitem class="username">root</systemitem>
    bruker, legg til alt i den delte installasjonen:</para>

<screen role="root"><userinput>for ext in /opt/openoffice-3.2.1/share/extension/install/*.oxt
do
    /opt/openoffice-3.2.1/program/unopkg add --shared --verbose $ext
done</userinput></screen>

    <note><para><application>OpenOffice</application> standard språkverktøy
    vil ikke fungere ut av esken. Du må eksplisitt velge
    riktige språkinnstillinger fra ett av de installerte programmene ved
    gå inn i Verktøy-menyen og velge Alternativer. Under Språkinnstillinger,
    Språk, velg ønsket språk for alle innstillinger. Ikke gå
    "Standard" i en rullegardinmeny her.</para></note>

    <para>Til slutt, hvis du vil redigere <application>OpenOffice</application>
    dokumenter direkte fra <xref linkend="seamonkey"/> eller
    <xref linkend="firefox"/>, lage en symbolsk lenke i din
    programtilleggmappe til <filename
    class='libraryfile'>/opt/openoffice-&openoffice-version;/program/libnpsoplugin.so</filename>.
    I tillegg må du aktivere programtillegget fra
    <parameter>Internet Options</parameter> innen enhver
    <application>OpenOffice</application> applikasjon.</para>

  </sect2>

  <sect2 role="commands">
    <title>Parameterforklaringer</title>

    <para><envar>PKG_CONFIG=/usr/bin/pkg-config</envar>:
    Denne variabelen må settes siden versjonsinnsjekking i
    <filename>configure</filename> er ødelagt.</para>

    <para><parameter>--disable-binfilter</parameter>: Denne bryteren deaktiverer
    bygget av eldre <application>StarOffice-5</application> import
    filtre. Utelat denne bryteren hvis du har lastet ned
    <application>binfilter</application> pakke
    ovenfor. Advarsel: Installasjon av de eldre importfiltrene øker
    byggetid betraktelig. Installer dem bare hvis du har disse gamle
    filtyper, og må redigere dem i
    <application>OpenOffice</application>.</para>

    <para><parameter>--disable-fontooo</parameter>: Bruk
    <application>Fontconfig</application> i stedet for FontOOo.</para>

    <para><parameter>--disable-gnome-vfs</parameter>: Deaktiver bruken av
    <application>Gnome Virtual File System</application> biblioteker. Utelate
    denne bryteren kun hvis gio ikke er tilgjengelig.</para>

    <para><parameter>--disable-odk</parameter>: Denne bryteren deaktiverer byggingen
    av <application>OpenOffice</application> SDK.  Utelat denne bryteren hvis
    du har lastet ned SDK-pakken (og tilleggskrav)
    ovenfor.</para>

    <para><parameter>--disable-qadevooo</parameter>: Denne bryteren hopper over
    byggingen av kvalitetssikringsverktøyene som brukes av
    <application>OpenOffice</application> utviklingsteam.</para>

    <para><parameter>--enable-cairo</parameter>: Denne bryteren er oppført i
    eksempel <command>configure</command> kommandoen ovenfor tvinger bruken av
    system installert cairo.</para>

    <para><parameter>--without-afms</parameter>: Ikke installer afm skrifttyper
    ettersom systeminstallerte TrueType-fonter allerede er tilgjengelige.</para>

    <para><parameter>--without-fonts</parameter>: Ikke installer Bitstream
    Vera-fonter siden de allerede er inkludert i
    <application>X</application> Vindusystemmiljøet.</para>

    <para><parameter>--without-ppds</parameter>: Ikke installer skriveren
    beskrivelsesfiler ettersom disse skal håndteres av utskriftssystemet.</para>

    <para><parameter>--without-pam</parameter>: Deaktiver bruken av
    <application>Linux-PAM</application> funksjoner. Utelat denne bryteren hvis
    <application>Linux-PAM</application> er installert.</para>

    <para><parameter>--with{,out}-system-*</parameter>: Bestemmer
    om du skal bruke systembibliotekene og programmene eller bygge
    kildepakkene inkludert i byggetreet.</para>

    <para><parameter>--with-build-version="3.2.1-1"</parameter>: Endrer
    byggeversjon for å legge til "-1" til standardversjonsstrengen.</para>

    <para><parameter>--with-vendor="BLFS"</parameter>: Byttet leverandør
    streng til "BLFS" i help->om dialogen.</para>

    <para><parameter>--with-use-shell=bash</parameter>: Forteller
    <application>OpenOffice</application> bygge system å bruke
    <command>bash</command> i stedet for <command>tcsh</command>.</para>

    <para><command>./bootstrap</command>: Bygg
    <command>dmake</command> verktøyet som kreves for å fullføre
    bygge.</para>

    <para>
    <parameter>--with-lang=<replaceable>&lt;LANG&gt;</replaceable></parameter>:
    Tillater bruk av tilleggsspråk i
    <application>OpenOffice</application>. US English (ENUS) er
    standard.</para>

    <para>
    <parameter>--with-dict=<replaceable>&lt;LANG&gt;</replaceable></parameter>:
    Tillater bruk av alternative ordbøker i
    <application>OpenOffice</application>. US English (ENUS) er
    standard.</para>

    <para><parameter>--with-use-shell=bash</parameter>: Forteller
    <application>OpenOffice</application> bygge system å bruke
    <command>bash</command> i stedet for <command>tcsh</command>.</para>

    <para><command>./bootstrap</command>: Bygg
    <command>dmake</command> verktøyet som kreves for å fullføre
    bygge.</para>

    <para><command>for appl in sbase scalc...</command>: Oppretter symbolkoblinger
    for applikasjonene i
    <filename class="directory">/usr/bin</filename>.</para>

    <para><command>for appl in *.desktop...</command>: Rediger
    <filename>*.desktop</filename> filer for bruk med en standard BLFS
    system.</para>

  </sect2>

  <sect2 role="content">
    <title>Innhold</title>

    <segmentedlist>
      <segtitle>Installerte Programmer</segtitle>
      <segtitle>Installerte Biblioteker</segtitle>
      <segtitle>Installert Mappe</segtitle>

      <seglistitem>
        <seg>sbase, scalc, sdraw, simpress, smath, soffice, spadmin,
        og swriter</seg>
        <seg><application>OpenOffice</application> biblioteker</seg>
        <seg>/opt/openoffice-&openoffice-version;</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Korte Beskrivelser</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="sbase">
        <term><command>sbase</command></term>
        <listitem>
          <para>er en databaseapplikasjon.</para>
          <indexterm zone="openoffice sbase">
            <primary sortas="b-sbase">sbase</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="scalc">
        <term><command>scalc</command></term>
        <listitem>
          <para>er en regnearkapplikasjon.</para>
          <indexterm zone="openoffice scalc">
            <primary sortas="b-scalc">scalc</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="sdraw">
        <term><command>sdraw</command></term>
        <listitem>
          <para>er en tegneapplikasjon.</para>
          <indexterm zone="openoffice sdraw">
            <primary sortas="b-sdraw">sdraw</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="simpress">
        <term><command>simpress</command></term>
        <listitem>
          <para>er en presentasjonsapplikasjon.</para>
          <indexterm zone="openoffice simpress">
            <primary sortas="b-simpress">simpress</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="smath">
        <term><command>smath</command></term>
        <listitem>
          <para>er en matematisk formelredigerer.</para>
          <indexterm zone="openoffice smath">
            <primary sortas="b-smath">smath</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="soffice">
        <term><command>soffice</command></term>
        <listitem>
          <para>åpner et grunnvindu med tilgang til alle
          <application>OpenOffice</application> applikasjoner.</para>
          <indexterm zone="openoffice soffice">
            <primary sortas="b-soffice">soffice</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="spadmin">
        <term><command>spadmin</command></term>
        <listitem>
          <para>er <application>OpenOffice</application> skriver
          konfigurasjonsverktøy.</para>
          <indexterm zone="openoffice spadmin">
            <primary sortas="b-spadmin">spadmin</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="swriter">
        <term><command>swriter</command></term>
        <listitem>
          <para>er et tekstbehandlingsprogram.</para>
          <indexterm zone="openoffice swriter">
            <primary sortas="b-swriter">swriter</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
