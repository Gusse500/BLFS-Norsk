<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY glib2-download-http "&gnome-download-http;/glib/&glib2-minor;/glib-&glib2-version;.tar.xz">
  <!ENTITY glib2-download-ftp  " ">
  <!ENTITY glib2-md5sum        "0781e889cab64f1f7dbb6e8357c6a95f">
  <!ENTITY glib2-size          "5.1 MB">
  <!ENTITY glib2-buildsize     "130 MB (legg til 20 MB for tester)">
  <!ENTITY glib2-time          "0.8 SBU (legg til 0,5 SBU for tester; begge bruker parallellisme=4)">
]>

<sect1 id="glib2" xreflabel="GLib-&glib2-version;">
  <?dbhtml filename="glib2.html"?>


  <title>GLib-&glib2-version;</title>

  <indexterm zone="glib2">
    <primary sortas="a-GLib2">GLib2</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduksjon til GLib</title>

    <para>
      <application>GLib</application> pakken inneholder lavt nivå
      biblioteker som er nyttige for å gi datastrukturhåndtering for C, portabilitet
      innpakninger og grensesnitt for slik kjøretidsfunksjonalitet som en
      hendelsesløkke, tråder, dynamisk lasting og et objektsystem.
    </para>

    &lfs121_checked;

    <bridgehead renderas="sect3">Pakkeinformasjon</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Nedlasting (HTTP): <ulink url="&glib2-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Nedlasting (FTP): <ulink url="&glib2-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Nedlasting MD5 sum: &glib2-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Nedlastingsstørrelse: &glib2-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimert diskplass som kreves: &glib2-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimert byggetid: &glib2-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Ytterligere Nedlastinger</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Valgfri oppdatering:
          <ulink url="&patch-root;/glib-skip_warnings-1.patch"/>
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">GLib Avhengigheter</bridgehead>

    <bridgehead renderas="sect4">Anbefalt</bridgehead>
    <para role="recommended">
      <xref linkend="libxslt"/> og
      <xref linkend="pcre2"/>
    </para>

    <bridgehead renderas="sect4">Valgfri</bridgehead>
    <para role="optional">
      <xref linkend="dbus"/> (for noen tester),
      <xref linkend="fuse3"/> og
      <ulink url="https://bindfs.org/">bindfs</ulink>
        (begge trengs for en testt),
      <xref linkend="gdb"/> (for bindinger),
      <xref linkend="DocBook"/>,
      <xref linkend="docbook-xsl"/>,
      <xref linkend="gtk-doc"/> (for å bygge API dokumentasjonen),
      <xref linkend="glib-networking"/> (for noen tester, men dette er en sirkulær
      avhengighet), og
      <!--<xref linkend="sysprof"/>-->
      <ulink url="&sysprof-url;">sysprof</ulink>
    </para>

    <bridgehead renderas="sect4">Ytterligere Kjøretids Avhengigheter</bridgehead>
    <para role="recommended">
      <xref role="runtime" linkend="gobject-introspection"/>
      (burde bli installert før gtk+, atk, etc.)
    </para>
    <para role="recommended">
      Sitert direkte fra <filename>INSTALL</filename> filen:
      <quote>Some of the mimetype-related functionality in GIO requires the
      <command>update-mime-database</command> and
      <command>update-desktop-database</command> utilities</quote>,
      which are part of
      <xref role="runtime" linkend="shared-mime-info"/> and
      <xref role="runtime" linkend="desktop-file-utils"/>, respectively.
      These two utilities are also needed for some tests.
    </para>

  </sect2>

  <sect2 role="installation">
    <title>Installasjon av GLib</title>

    <para>
      Hvis ønskelig, bruk den valgfrie oppdateringen. I mange tilfeller applikasjoner som
      bruker dette biblioteket, enten direkte eller indirekte via andre biblioteker som f.eks
      som <xref linkend="gtk3"/>, gi ut mange advarsler når du kjører fra
      kommandolinjen. Denne oppdateringen muliggjør bruk av en miljøvariabel,
      <envar>GLIB_LOG_LEVEL</envar>, som undertrykker uønskede meldinger.
      Verdien av variabelen er et siffer som tilsvarer:
    </para>

    <simplelist>
      <member>1  Varsling</member>
      <member>2  Kritisk</member>
      <member>3  Feil</member>
      <member>4  Advarsel</member>
      <member>5  Merknad</member>
    </simplelist>

    <para>
      For eksempel <userinput>export GLIB_LOG_LEVEL=4</userinput> vil hoppe over
      utdata av advarsels- og varselmeldinger (og info/feilsøkingsmeldinger hvis de
      er slått på). Hvis <envar>GLIB_LOG_LEVEL</envar> ikke er definert, normal
      meldingsutdata vil ikke bli påvirket.
    </para>

<screen><userinput>patch -Np1 -i ../glib-skip_warnings-1.patch</userinput></screen>

    <warning>
      <para>
        Hvis en tidligere versjon av glib er installert, flytter du deklarasjonene ut av
        veien slik at senere pakker ikke møter konflikter:
      </para>

<screen role="root"><userinput remap="pre">if [ -e /usr/include/glib-2.0 ]; then
    rm -rf /usr/include/glib-2.0.old &amp;&amp;
    mv -vf /usr/include/glib-2.0{,.old}
fi</userinput></screen>

    </warning>

    <para>
      Installer <application>GLib</application> ved å kjøre følgende
      kommandoer:
    </para>

<screen><userinput>mkdir build &amp;&amp;
cd    build &amp;&amp;

meson setup ..            \
      --prefix=/usr       \
      --buildtype=release \
      -Dman=true          &amp;&amp;
ninja</userinput></screen>

    <note><para>
      Hvis <xref linkend="libxslt"/> er installert, kan kommandoen ovenfor
      angi flere (ca. 33) feil som starter med "Error: no ID for
      constraint linkend:" når man genererer manualsidene. Disse er ufarlige.
    </para></note>

    <para>
      <application>GLib</application> testpakken krever
      <application>desktop-file-utils</application> for noen tester. Derimot,
      <application>desktop-file-utils</application> krever
      <application>GLib</application> for å kompilere; derfor må du
      først installere <application>GLib</application> og deretter kjøre
      testpakken.
    </para>

    <para>
      Nå, som <systemitem class="username">root</systemitem> bruker:
    </para>

<screen role="root"><userinput>ninja install &amp;&amp;

mkdir -p /usr/share/doc/glib-&glib2-version; &amp;&amp;
cp -r ../docs/reference/{gio,glib,gobject} /usr/share/doc/glib-&glib2-version;</userinput></screen>

    <para>
      Du bør nå installere <xref linkend="desktop-file-utils"/> og
      <xref linkend="shared-mime-info"/> og fortsette for å
      kjøre testpakken.
    </para>

    <warning>
      <para>
        Ikke kjør testpakken som &root; da vil noen tester mislykkes
        uventet og la noen ikke-FHS kompatible mapper være i
        <filename class='directory'>/usr</filename> hierarkiet.
      </para>
    </warning>

    <para>
      For å teste resultatene, etter å ha installert pakken, utsted:
      <command>LC_ALL=C ninja test</command> som ikke-&root; bruker.
    </para>
  </sect2>

  <sect2 role="commands">
    <title>Parameterforklaringer</title>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/meson-buildtype-release.xml"/>

    <para>
      <parameter>-Dman=true</parameter>: Denne bryteren gjør at
      bygget lager og installerer pakkens manualsider.
    </para>

    <para>
      <option>-Dgtk_doc=true</option>: Denne bryteren gjør at
      bygget lager og installerer API dokumentasjonen.
    </para>

  </sect2>

  <sect2 role="content">
    <title>Innhold</title>

    <segmentedlist>
      <segtitle>Installerte Programmer</segtitle>
      <segtitle>Installerte Biblioteker</segtitle>
      <segtitle>Installerte Mapper</segtitle>

      <seglistitem>
        <seg>
          gapplication,           gdbus, gdbus-codegen,
          gio,                    gio-querymodules,
          glib-compile-resources, glib-compile-schemas,
          glib-genmarshal,        glib-gettextize,
          glib-mkenums,           gobject-query,
          gresource,              gsettings,
          gtester, og            gtester-report
        </seg>
        <seg>
          libgio-2.0.so,
          libglib-2.0.so,
          libgmodule-2.0.so,
          libgobject-2.0.so, og
          libgthread-2.0.so
        </seg>
        <seg>
          /usr/include/gio-unix-2.0,
          /usr/include/glib-2.0,
          /usr/lib/gio,
          /usr/lib/glib-2.0,
          /usr/share/glib-2.0,
          /usr/share/doc/{glib-2.0,glib-&glib2-version;}, og
          /usr/share/gtk-doc/html/{gio,glib,gobject} (valgfri)
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Korte Beskrivelser</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="gapplication">
        <term><command>gapplication</command></term>
        <listitem>
          <para>
            kan brukes til å starte applikasjoner og sende
            meldinger til allerede kjørende økter av andre applikasjoner
          </para>
          <indexterm zone="glib2 gapplication">
            <primary sortas="b-gapplication">application</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      <varlistentry id="gdbus">
        <term><command>gdbus</command></term>
        <listitem>
          <para>
            er et enkelt verktøy som brukes til å jobbe med
            <application>D-Bus</application> objekter
          </para>
          <indexterm zone="glib2 gdbus">
            <primary sortas="b-gdbus">gdbus</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gdbus-codegen">
        <term><command>gdbus-codegen</command></term>
        <listitem>
          <para>
            brukes til å generere kode og/eller dokumentasjon for en eller
            flere <application>D-Bus</application> grensesnitt
          </para>
          <indexterm zone="glib2 gdbus-codegen">
            <primary sortas="b-gdbus-codegen">gdbus-codegen</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gio">
        <term><command>gio</command></term>
        <listitem>
          <para>
            er et verktøy som gjør mange <application>GIO</application>
            funksjoner tilgjengelig fra kommandolinjen
          </para>
          <indexterm zone="glib2 gio">
            <primary sortas="b-gio">gio</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gio-querymodules">
        <term><command>gio-querymodules</command></term>
        <listitem>
          <para>
            brukes til å opprette en <filename>giomodule.cache</filename> fil i
            de listede mappene. Denne filen viser den implementerte utvidelsen
            punktet for hver modul som er funnet
          </para>
          <indexterm zone="glib2 gio-querymodules">
            <primary sortas="b-gio-querymodules">gio-querymodules</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="glib-compile-resources">
        <term><command>glib-compile-resources</command></term>
        <listitem>
          <para>
            brukes til å lese ressursbeskrivelsen fra en fil og
            filene den refererer til for å lage en binær ressurs
            bunt som er egnet for bruk med GResource API
          </para>
          <indexterm zone="glib2 glib-compile-resources">
            <primary sortas="b-glib-compile-resources">glib-compile-resources</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="glib-compile-schemas">
        <term><command>glib-compile-schemas</command></term>
        <listitem>
          <para>
            brukes til å kompilere alle XML skjemafilene for GSettings
            i en mappe til en binær fil med navnet
            <filename>gschemas.compiled</filename> som kan brukes av GSettings
          </para>
          <indexterm zone="glib2 glib-compile-schemas">
            <primary sortas="b-glib-compile-resources">glib-compile-schemas</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="glib-genmarshal">
        <term><command>glib-genmarshal</command></term>
        <listitem>
          <para>
            er et C kode marshaller genereringsverktøy for GLib lukkinger
          </para>
          <indexterm zone="glib2 glib-genmarshal">
            <primary sortas="b-glib-genmarshal">glib-genmarshal</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="glib-gettextize">
        <term><command>glib-gettextize</command></term>
        <listitem>
          <para>
            er en variant av <application>gettext</application>
            internasjonaliseringsverktøyet
          </para>
          <indexterm zone="glib2 glib-gettextize">
            <primary sortas="b-glib-gettextize">glib-gettextize</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="glib-mkenums">
        <term><command>glib-mkenums</command></term>
        <listitem>
          <para>
            er et verktøy for generering av enumbeskrivelse i C språk
          </para>
          <indexterm zone="glib2 glib-mkenums">
            <primary sortas="b-glib-mkenums">glib-mkenums</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gobject-query">
        <term><command>gobject-query</command></term>
        <listitem>
          <para>
            er et lite verktøy som tegner et tre med typer
          </para>
          <indexterm zone="glib2 gobject-query">
            <primary sortas="b-gobject-query">gobject-query</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gresource">
        <term><command>gresource</command></term>
        <listitem>
          <para>
            tilbyr et enkelt kommandolinjegrensesnitt til GResource
          </para>
          <indexterm zone="glib2 gresource">
            <primary sortas="b-gresource">gresource</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gsettings">
        <term><command>gsettings</command></term>
        <listitem>
          <para>
            tilbyr et enkelt kommandolinjegrensesnitt til GSettings
          </para>
          <indexterm zone="glib2 gsettings">
            <primary sortas="b-gsettings">gsettings</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gtester">
        <term><command>gtester</command></term>
        <listitem>
          <para>
            er et testverktøy
          </para>
          <indexterm zone="glib2 gtester">
            <primary sortas="b-gtester">gtester</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gtester-report">
        <term><command>gtester-report</command></term>
        <listitem>
          <para>
            er et testrapportformateringsverktøy
          </para>
          <indexterm zone="glib2 gtester-report">
            <primary sortas="b-gtester-report">gtester-report</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="GLib-libraries">
        <term>GLib libraries</term>
          <listitem>
          <para>
            inneholder kjernebiblioteker på lavt nivå for
            <application>GIMP</application> Toolkit
          </para>
          <indexterm zone="glib2 GLib-libraries">
            <primary sortas="c-GLib-libraries">Glib libraries</primary>
          </indexterm>
          </listitem>
        </varlistentry>

    </variablelist>

  </sect2>

</sect1>
