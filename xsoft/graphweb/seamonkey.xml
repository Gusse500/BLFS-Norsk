<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY seamonkey-download-http "&mozilla-http;/seamonkey/releases/&seamonkey-version;/source/seamonkey-&seamonkey-version;.source.tar.xz">
  <!ENTITY seamonkey-download-ftp  " ">
  <!ENTITY seamonkey-md5sum        "5fd91a88005c2cc2a3ba4addfb5ff35e">
  <!ENTITY seamonkey-size          "254 MB">
  <!ENTITY seamonkey-buildsize     "4.4 GB (159 MB installert)">
  <!ENTITY seamonkey-time          "11 SBU (med parallellitet=4)">
]>

<sect1 id="seamonkey" xreflabel="SeaMonkey-&seamonkey-version;">
  <?dbhtml filename="seamonkey.html" ?>


  <title>SeaMonkey-&seamonkey-version;</title>

  <indexterm zone="seamonkey">
    <primary sortas="a-SeaMonkey">SeaMonkey</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduksjon til SeaMonkey</title>

    <para>
      <application>SeaMonkey</application> er en nettleserpakke, en etterkommer
      av <application>Netscape</application>. Den inkluderer nettleseren,
      composer, post og nyhetsklienter, og en IRC klient.
    </para>

    <para>
      Det er den fellesskapsdrevne oppfølgingen av Mozilla Programpakke,
      opprettet etter at Mozilla bestemte seg for å fokusere på separate applikasjoner for
      surfing og e-post. De applikasjonene er
      <xref linkend="firefox"/> og <xref linkend="thunderbird"/>.
    </para>

    &lfs120_checked;

    <bridgehead renderas="sect3">Pakkeinformasjon</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Nedlasting (HTTP): <ulink url="&seamonkey-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Nedlasting (FTP): <ulink url="&seamonkey-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Nedlasting MD5 sum: &seamonkey-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Nedlastingsstørrelse: &seamonkey-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimert diskplass som kreves: &seamonkey-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Estimert byggetid: &seamonkey-time;
        </para>
      </listitem>
    </itemizedlist>

 <!--
    <bridgehead renderas="sect3">Ytterligere Nedlastinger</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Nødvendig oppdatering:
          <ulink url="&patch-root;/seamonkey-&seamonkey-version;-upstream_fixes-1.patch"/>
        </para>
      </listitem>
    </itemizedlist>
-->

    <note>
      <para>
        Tarballen
        <emphasis>seamonkey-&seamonkey-version;.source.tar.xz</emphasis> vil
        pakke ut i <emphasis>seamonkey-&seamonkey-version;</emphasis> mappen.
      </para>
    </note>

    <bridgehead renderas="sect3">SeaMonkey Avhengigheter</bridgehead>

    <bridgehead renderas="sect4">Påkrevd</bridgehead>
    <para role="required">
      <xref linkend="autoconf213"/>,
      <xref linkend="cbindgen"/>,
      <xref linkend="gtk3"/>,
	  <xref linkend="nodejs"/>,
      <xref linkend="python2"/>,
      <xref linkend="unzip"/>,
      <xref linkend="yasm"/>, og
      <xref linkend="zip"/>
    </para>

    <bridgehead renderas="sect4">Anbefalt</bridgehead>
    <para role="recommended">
      <xref linkend="icu"/>,
      <xref linkend="libevent"/>,
      <!--<xref linkend="libvpx"/>, Causes build failures similar to Firefox -->
      <xref linkend="libwebp"/>,
      <xref linkend="llvm"/> (med clang),
      <xref linkend="nasm"/>,
      <xref linkend="nspr"/>,
      <xref linkend="nss"/>, og
      <xref linkend="pulseaudio"/>
      <!-- <xref linkend="sqlite"/> system version no longer supported -->
    </para>
<!--
    <bridgehead renderas="sect4">Valgfri</bridgehead>
    <para role="optional">
      <xref linkend="sqlite"/> (ikke anbefalt på grunn av potensielle
      sikkerhetshensyn)
    </para>
-->
    <note>
      <para>
        Hvis du ikke installerer anbefalte avhengigheter, vil interne kopier av
        disse pakkene bli brukt. De kan bli testet for å fungere, men de kan
        være utdatert eller inneholde sikkerhetshull.
      </para>
    </note>

    <bridgehead renderas="sect4">Valgfri</bridgehead>
    <para role="optional">
      <xref linkend="alsa-lib"/>,
      <!--<xref linkend="curl"/>,-->
      <xref linkend="dbus-glib"/>,
      <!--<xref linkend="doxygen"/>,-->
      <xref linkend="GConf"/>,
      <!--<xref linkend="gst10-plugins-base"/> (og andre programtillegg, bare for tester),-->
      <!--<xref linkend="openjdk"/>, Not seen in logs -->
      <xref linkend="startup-notification"/>,
      <xref linkend="valgrind"/>,
      <xref linkend="wget"/>,
      <xref linkend="wireless_tools"/>,
      <ulink url="https://hunspell.sourceforge.net/">Hunspell</ulink>, og
      <ulink url="https://facebook.github.io/watchman/">Watchman</ulink>
    </para>

    <para condition="html" role="usernotes">
      Redaktørens notater: <ulink url="&blfs-wiki;/seamonkey"/>
    </para>

  </sect2>

  <sect2 role="installation">
    <title>Installasjon av SeaMonkey</title>

    <para>
      Konfigurasjonen av <application>SeaMonkey</application> er oppnådd
      ved å lage en <filename>mozconfig</filename> fil som inneholder de ønskede
      konfigurasjonsalternativer. Standard <filename>mozconfig</filename> fil er
      opprettet nedenfor. For å se hele listen over tilgjengelige konfigurasjonsalternativer
      (og en forkortet beskrivelse av hver enkelt), kjør
      <command>./configure --help</command>. Det kan også være lurt å se gjennom
      hele filen og fjern kommentarer til andre ønskede alternativer. Lag filen ved å
      utsted følgende kommando:
    </para>

<screen><?dbfo keep-together="auto"?><userinput>cat &gt; mozconfig &lt;&lt; "EOF"
<literal># If you have a multicore machine, all cores will be used

# If you have installed DBus-Glib comment out this line:
ac_add_options --disable-dbus

# If you have installed dbus-glib, and you have installed (or will install)
# wireless-tools, and you wish to use geolocation web services, comment out
# this line
ac_add_options --disable-necko-wifi

# Uncomment these lines if you have installed optional dependencies:
#ac_add_options --enable-system-hunspell
#ac_add_options --enable-startup-notification

# Uncomment the following option if you have not installed PulseAudio
#ac_add_options --disable-pulseaudio
# and uncomment this if you installed alsa-lib instead of PulseAudio
#ac_add_options --enable-alsa

# Comment out following option if you have gconf installed
ac_add_options --disable-gconf
<!-- comments cause a blank line, following was for icu in the past
     seems OK with icu-60, seamonkey-2.49
     line below was with comment and explanation
# Use the internal version of icu due to execution problems-->
# Comment out following options if you have not installed
# recommended dependencies:
ac_add_options --with-system-icu
ac_add_options --with-system-libevent
ac_add_options --with-system-nspr
ac_add_options --with-system-nss
ac_add_options --with-system-webp

# Disabling debug symbols makes the build much smaller and a little
# faster. Comment this if you need to run a debugger. Note: This is
# required for compilation on i686.
ac_add_options --disable-debug-symbols

# The elf-hack is reported to cause failed installs (after successful builds)
# on some machines. It is supposed to improve startup time and it shrinks
# libxul.so by a few MB - comment this if you know your machine is not affected.
ac_add_options --disable-elf-hack

# Seamonkey has some additional features that are not turned on by default,
# such as an IRC client, calendar, and DOM Inspector. The DOM Inspector
# aids with designing web pages. Comment these options if you do not
# desire these features.
ac_add_options --enable-calendar
ac_add_options --enable-dominspector
ac_add_options --enable-irc

# The BLFS editors recommend not changing anything below this line:
ac_add_options --prefix=/usr
ac_add_options --enable-application=comm/suite

ac_add_options --disable-crashreporter
ac_add_options --disable-updater
ac_add_options --disable-tests

# rust-simd does not compile with recent versions of rust.
# It is disabled in recent versions of firefox
ac_add_options --disable-rust-simd

ac_add_options --enable-optimize="-O2"
ac_add_options --enable-strip
ac_add_options --enable-install-strip
ac_add_options --enable-official-branding

# The option to use system cairo was removed in 2.53.9.
ac_add_options --enable-system-ffi
ac_add_options --enable-system-pixman

ac_add_options --with-system-bz2
ac_add_options --with-system-jpeg
ac_add_options --with-system-png
ac_add_options --with-system-zlib</literal>
EOF</userinput></screen>

    <note>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
       href="../../xincludes/mozshm.xml"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
       href="../../xincludes/mozmach.xml"/>
    </note>

<!--
    <para>
      Fjern først et foreldet flagg i python kode, som har blitt fjernet
      i python-3.11:
    </para>

<screen><userinput>grep -rl \'rU\' | xargs sed -i "s/'rU'/'r'/"</userinput></screen>
-->
<!--
    <para>
      Deretter jobber du rundt et problem i det virtuelle Python miljøet:
    </para>

<screen><userinput>sed -i "/if sys.executable !=/i\    open(join(bin_dir, 'pyvenv.cfg'), 'w').close()" \
    third_party/python/virtualenv/virtualenv.py</userinput></screen>
-->

    <para>
      Løs et problem med den medfølgende 'distro' pythonmodulen:
    </para>

<screen><userinput>sed -e '1012 s/stderr=devnull/stderr=subprocess.DEVNULL/' \
    -e '1013 s/OSError/(OSError, subprocess.CalledProcessError)/' \
    -i third_party/python/distro/distro.py</userinput></screen>

    <para>
      Kompilere <application>SeaMonkey</application> ved å kjøre følgende
      kommandoer:
    </para>

<screen><userinput>export CC=clang CXX=clang++          &amp;&amp;
./mach configure &amp;&amp;
./mach build</userinput></screen>


    <!-- comment this since llvm must have been installed for rust
    <note>
      <para>
        CC og CXX variablene ovenfor er bare nødvendig hvis
        <xref linkend="llvm"/> er installert og du ikke vil bruke clang.
      </para>
    </note>-->

    <para>
      Denne pakken kommer ikke med en testpakke.
    </para>

    <para>
      Installer <application>SeaMonkey</application> ved å utstede følgende
      kommandoer som <systemitem class="username">root</systemitem> bruker:
    </para>


<screen role="root"><userinput>./mach install                  &amp;&amp;
chown -R 0:0 /usr/lib/seamonkey &amp;&amp;

cp -v $(find -name seamonkey.1 | head -n1) /usr/share/man/man1</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Parameterforklaringer</title>

    <para>
      <command>export CC=clang CXX=clang++</command>:
      Med introduksjonen av <application>gcc-12</application>, mange
      flere advarsler genereres når du kompilerer mozilla applikasjoner
      og det resulterer i en mye langsommere og større konstruksjon. Dessuten,
      bygging med GCC på i?86 er for øyeblikket ødelagt.
      Selv om oppstrøms mozilla kode bruker som standard
      <application>llvm</application> med mindre overstyrt, konfigurerer den eldre
      koden inn i <application>SeaMonkey</application> standard til gcc.
    </para>

    <para>
      <command>./mach configure</command>: Dette validerer
      de medfølgende avhengighetene og <filename>mozconfig</filename>.
      <!--Dette kjøres to ganger fordi problemer med mach vil føre til at den svikter
      første gang.-->
    </para>

    <para>
      <option>./mach build --verbose</option>: Bruk dette alternativet hvis du
      trenger detaljer om hvilke filer som kompileres, sammen med eventuelle C eller
      C++ flagg brukes. Men ikke legg til '--verbose' til installeringskommandoen,
      det er ikke akseptert der.
    </para>

    <para>
      <option>./mach build -jN</option>: Byggingen bør som standard bruke
      alle tilgjengelige CPU kjerner. Hvis bruk av alle kjernene får bygget til å bruke vekselminne
      fordi du har utilstrekkelig minne, kan det gå raskere å bruke færre kjerner.
    </para>

  </sect2>

  <sect2 role="configuration">
    <title>Konfigurere SeaMonkey</title>

    <para>
      For installering av diverse <application>SeaMonkey</application> tillegg, se
      på <ulink url="https://addons.thunderbird.net/en-US/seamonkey/">Add-ons
      for Seamonkey</ulink>.
    </para>

    <para>
      Sammen med å bruke <quote>Preferences</quote> menyen for å konfigurere
      <application>SeaMonkey</application> sine alternativer og preferanser som passer
      individuelle smaker, finere kontroll av mange alternativer er kun tilgjengelig
      ved å bruke et verktøy som ikke er tilgjengelig fra det generelle menysystemet. For å få tilgang til dette
      verktøyet, må du åpne et nettleservindu og skrive
      <systemitem role="url">about:config</systemitem> i adressefeltet. Dette
      vil vise en liste over konfigurasjonspreferanser og informasjon
      relatert til hver enkelt. Du kan bruke <quote>Search:</quote> feltet for skrive
      søkekriterier og begrense de oppførte elementene. Endre en preferanse
      kan gjøres ved hjelp av to metoder. En, hvis preferansen har en boolsk verdi
      (True/False), dobbeltklikk ganske enkelt på preferansen for å bytte verdien
      og to, for andre preferanser bare høyreklikk på ønsket linje,
      velg <quote>Modify</quote> fra menyen og endre verdien. Opprette
      nye preferanseelementer oppnås på samme måte, bortsett fra velg
      <quote>New</quote> fra menyen og oppgi de ønskede dataene i
      feltene når du blir bedt om det.
    </para>

<!-- The URL no longer exists.
    <tip>
      <para>
        Det er en mengde konfigurasjonsparametere du kan justere for å
        tilpasse <application>SeaMonkey</application>. En meget omfattende liste over
        disse parameterne finner du på
        <ulink url="http://preferential.mozdev.org/preferences.html"/>.
      </para>
    </tip>
-->
    <para>
      Hvis du bruker et skrivebordsmiljø som <application>Gnome</application> eller
      <application>KDE</application> ønsker du kanskje å lage en
      <filename>seamonkey.desktop</filename> fil sånn at
      <application>SeaMonkey</application> vises i panelets menyer. Hvis du
      ikke har aktivert <application>Startup-Notification</application> i din
      mozconfig endre StartupNotify linjen til false. Som
      <systemitem class="username">root</systemitem> bruker:
    </para>

<screen role="root"><userinput>mkdir -pv /usr/share/{applications,pixmaps}              &amp;&amp;

cat &gt; /usr/share/applications/seamonkey.desktop &lt;&lt; "EOF"
<literal>[Desktop Entry]
Encoding=UTF-8
Type=Application
Name=SeaMonkey
Comment=The Mozilla Suite
Icon=seamonkey
Exec=seamonkey
Categories=Network;GTK;Application;Email;Browser;WebBrowser;News;
StartupNotify=true
Terminal=false</literal>
EOF

ln -sfv /usr/lib/seamonkey/chrome/icons/default/default128.png \
        /usr/share/pixmaps/seamonkey.png</userinput></screen>
  </sect2>

  <sect2 role="content">
    <title>Innhold</title>

    <segmentedlist>
      <segtitle>Installerte Programmer</segtitle>
      <segtitle>Installerte Biblioteker</segtitle>
      <segtitle>Installert Mappe</segtitle>

      <seglistitem>
        <seg>seamonkey</seg>
        <seg>
          Tallrike biblioteker, nettleser- og e-post-/nyhetsgruppekomponenter, programtillegg,
          utvidelser og hjelpemoduler installert i
          <filename class="directory">/usr/lib/seamonkey</filename>
        </seg>
        <seg>
          /usr/lib/seamonkey
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Korte Beskrivelser</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="seamonkey-prog">
        <term><command>seamonkey</command></term>
        <listitem>
          <para>
            er Mozilla nettleser/e-post/nyhetsgruppe/chat klientpakke
          </para>
          <indexterm zone="seamonkey seamonkey-prog">
            <primary sortas="b-seamonkey">seamonkey</primary>
          </indexterm>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>

</sect1>
